---

title: Jekyll

categories: issues

layout: post

invisible: true

---

{% include setup.md %}

В [посте про перезапуск](http://kizu.ru/issues/restart/) я пообещал написать серию статей про Jekyll. Это — первая, вводная, заметка из серии.

Я не буду подробно описывать что же такое [Jekyll](https://github.com/mojombo/jekyll), как его установить, какая у него файловая структура и так далее — про это уже написано довольно много статей (см. ниже в [__ ссылках __](#Links)){:quoted}. Если кратко, то это статически генератор сайтов с прицелом на блоги.

## GitHub Pages

Начну с главного: эту и последующие статьи я буду писать в контексте сервиса [GitHub Pages](http://pages.github.com). Дело в том, что Гитхаб, помимо обычного хостинга статики, предоставляет также и возможность хостить сайты на Jekyll. Таким образом, Jekyll — единственный способ что-то генерить прямо на Гитхабе без использования сторонних сервисов и без, возможно, чисто клиентских решений (можно попробовать извратиться как с использованием стороннего сервиса, в который будут уходить хуки и который будет что-то на каждый пуш билдить и коммитить, либо можно всё обрабатывать и собирать на клиенте, сделав весь сайт как одностраничное веб-приложение, но оба этих решения я рассматривать пока не буду).

С Jekyll же достаточно создать файл в формате markdown, добавить в начало YAML-заголовок — и можно писать текст. После пуша этого файла в репозиторий, Гитхаб перегенерирует весь сайт — и соответствующая страница или пост в блоге появится на сайте, а также во всех списках и сайдбарах, если они есть где-то на других страницах. Пушить при этом можно откуда угодно — хоть со своей машины, хоть через веб-интерфейс Гитхаба, хоть используя любое стороннее приложение, использующее API.

## Hello world

Минимальный документ, который нужно написать чтобы файл сбилдился с помощью Jekyll, должен содержать YAML с хотя бы одним полем — `layout` (на самом деле можно и без него, но тогда у вас будет сбилженная страница без заголовков и всего прочего — вряд ли вам это нужно). Так что минимально адекватный `hello-world.md` для Jekyll мог бы выглядеть так:


    ---
    layout: default
    ---

    Hello world!

В реальном мире посту захочется добавить заголовок и ещё всяких данных, но вообще такого документа достаточно.

## Дата

Одна из фишек, которая мне понравилась — посты в блоге нужно называть в формате `YYYY-MM-DD-title`. Помимо того, что это немного организует — сортирует посты в папке — это избавляет от необходимости прописывать дату в самом файле. В некоторых генераторах статики, которые я использовал раньше, эту информацию приходилось дублировать, прописывая в YAML поля типа `published`. В Jekyll можно и их использовать, например, если хочется уточнить время, но можно и без этого — дата из имени файла попадёт в данные, доступные шаблонам.

В общем, в Jekyll всё минималистично — для создания нового поста не нужно помнить что же там обязательно прописывать в YAML — можно просто создать текстовый документ, заполнить его и получить готовый пост на сайте после пуша.

## Prose.io

Если не хочется вручную каждый раз заполнять YAML-заголовки, можно воспользоваться или каким-нибудь скриптом, как это сделано в Jekyll Bootstrap, либо использовать сервис Prose.io — он позволяет в конфиге описать какие дефолтные данные использовать для нового файла. Таким образом, если новые посты писать через веб, используя Prose, то о заполнении метаданных и вовсе не нужно будет заботиться (на самом деле в них всё равно нужно будет разок заглянуть, но про это я напишу в другой раз).

## Ссылки {#Links}

Как я и сказал, про Jekyll есть уже очень много полезной информации. В этом посте я попробую постепенно собирать всё то, что может понадобиться для начала работы с Jekyll, так и то, что нужно постоянно. Итак:

- [Официальный сайт Jekyll](http://jekyllrb.com)
- [Настройки для prose](http://prose.io/help/handbook.html)

У проекта [Jekyll Bootstrap](http://jekyllbootstrap.com) есть отличная серия статей про Jekyll:

- [Введение в Jekyll](http://jekyllbootstrap.com/lessons/jekyll-introduction.html)
- [Описание форматов внутренних данных](http://jekyllbootstrap.com/api/template-data-api.html)

В процессе работы над всякими сложными штуками необходимо использовать различные теги liquid, вот документация по ним:

- [Список стандартных тегов liquid](https://github.com/shopify/liquid/wiki/liquid-for-designers)
- [Дополнительные теги liquid в Jekyll](https://github.com/mojombo/jekyll/wiki/liquid-extensions)

Это только первая статья про Jekyl в моём блоге, ждите обновлений!